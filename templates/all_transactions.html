<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>AkatsukiBANK</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Favicon -->
    <link href="static/img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500&family=Roboto:wght@500;700;900&display=swap" rel="stylesheet"> 

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="static/lib/animate/animate.min.css" rel="stylesheet">
    <link href="static/lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="static/lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css" rel="stylesheet" />

    <!-- Customized Bootstrap Stylesheet -->
    <link href="static/css/bootstrap.min.css" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="static/css/style.css" rel="stylesheet">
    <script>
        function resetForm() {
            const form = document.getElementById("prediction-form");
            form.reset();
            // Xóa giá trị điền trước từ các trường sau khi submit
            const inputs = form.querySelectorAll("input[type='text'], input[type='number']");
            inputs.forEach(input => input.value = "");
        }
    </script>
    <style>
        #about_flex {
        font-family: Arial, sans-serif;
        margin: 0 auto;
       
        width: 80%;
    }
    
    .form-container {
        width: 75%;
        padding-right: 10px;
    }
    
    .history-container {
        width: 25%;
        border-left: 2px solid #ddd;
        padding-left: 15px;
        background-color: #f7f7f7;
        height: 500px;
        overflow-y: scroll;
        scrollbar-width: thin;
        position: relative;
        margin-top: 40px;
    }
    
    .history-container h3 {
        position: sticky;
        top: 0;
        background-color: #f7f7f7;
        padding: 10px 0;
        margin-top: 0;
        z-index: 10;
        border-bottom: 1px solid #ddd;
    }
    
    .form-group {
        margin-bottom: 15px;
    }
    
    label {
        display: block;
        font-weight: bold;
        margin-bottom: 5px;
    }
    
    input[type="text"],
    input[type="number"] {
        width: 85%;
        padding: 8px;
        border-radius: 5px;
        border: 1.5px solid black;
    }
    
    .button {
        background-color: #007BFF;
        color: white;
        padding: 10px 15px;
        border: none;
        cursor: pointer;
    }
    
    .button:hover {
        background-color: #0056b3;
    }
    
    .reset-button {
        background-color: #dc3545;
        color: white;
        padding: 10px 15px;
        border: none;
        cursor: pointer;
    }
    
    .reset-button:hover {
        background-color: #c82333;
    }
    
    .history-item {
        margin-bottom: 15px;
        padding: 10px;
        background-color: #fff;
        border: 1px solid #ddd;
        border-radius: 5px;
    }
    
    .history-item h4 {
        margin: 0 0 5px;
        font-size: 16px;
    }
    
    .history-item p {
        margin: 0;
        font-size: 14px;
    }
    
    .prediction-result {
        margin-top: 20px;
        padding: 15px;
        background-color: #e9ecef;
        border-radius: 5px;
    }
    
    h2 {
        text-align: center;
        font-size: 24px;
        color: #003399;
        text-shadow: -2px 2px 5px rgba(0, 0, 0, 0.5);
    }
    .modal {
        display: none; /* Ẩn modal mặc định */
        position: fixed;
        z-index: 1;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0,0,0,0.4);
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .modal-content {
        background-color: #fefefe;
        margin: 15% auto;
        padding: 20px;
        border: 1px solid #888;
        width: 30%; /* Điều chỉnh độ rộng modal */
        text-align: center; /* Căn giữa nội dung modal */
    }

    .close {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
        cursor: pointer;
    }
  

    
    .all_his{
        font-family: Arial, sans-serif;
        margin: 0 auto;
        width: 80%;
        body {
            font-family: sans-serif;
            margin: 20px;
        }
        h1 {
            text-align: center;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        .details {
            background-color: #fff; /* Ensure details row has a white background */
        }
        .details p {
            margin: 5px 0;  /* Add some spacing between the details */
        }
        button {
            background-color: #444; /* Example - adjust as needed */
            color: white;
            padding: 8px 12px;
            border: none;
            cursor: pointer;
            border-radius: 4px;
        }
        button:hover {
            background-color: #222;
        }
        @media (max-width: 600px) { /* Responsive adjustments for smaller screens */
            table, thead, tbody, th, td, tr {
                display: block;
            }
            thead tr {
                position: absolute;
                top: -9999px;
                left: -9999px;
            }
            tr { border: 1px solid #ccc; }
            td {
                border: none;
                border-bottom: 1px solid #eee;
                position: relative;
                padding-left: 50%;
            }
            td:before {
                position: absolute;
                top: 6px;
                left: 6px;
                width: 45%;
                padding-right: 10px;
                white-space: nowrap;
                content: attr(data-label);
                font-weight: bold;
            }
        }
    }
</style>
</head>

<body>
    <!-- Spinner Start -->
    <div id="spinner" class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
        <div class="spinner-grow text-primary" style="width: 3rem; height: 3rem;" role="status">
            <span class="sr-only">Loading...</span>
        </div>
    </div>
    <!-- Spinner End -->


    <!-- Topbar Start -->
    <div class="container-fluid bg-light p-0 wow fadeIn" data-wow-delay="0.1s">
        <div class="row gx-0 d-none d-lg-flex">
            <div class="col-lg-7 px-5 text-start">
                <div class="h-100 d-inline-flex align-items-center py-3 me-4">
                    <small class="fa fa-map-marker-alt text-primary me-2"></small>
                    <small>123 Street, New York, USA</small>
                </div>
                <div class="h-100 d-inline-flex align-items-center py-3">
                    <small class="far fa-clock text-primary me-2"></small>
                    <small>Mon - Fri : 09.00 AM - 09.00 PM</small>
                </div>
            </div>
            <div class="col-lg-5 px-5 text-end">
                <div class="h-100 d-inline-flex align-items-center py-3 me-4">
                    <small class="fa fa-phone-alt text-primary me-2"></small>
                    <small>+012 345 6789</small>
                </div>
                <div class="h-100 d-inline-flex align-items-center">
                    <a class="btn btn-sm-square rounded-circle bg-white text-primary me-1" href=""><i class="fab fa-facebook-f"></i></a>
                    <a class="btn btn-sm-square rounded-circle bg-white text-primary me-1" href=""><i class="fab fa-twitter"></i></a>
                    <a class="btn btn-sm-square rounded-circle bg-white text-primary me-1" href=""><i class="fab fa-linkedin-in"></i></a>
                    <a class="btn btn-sm-square rounded-circle bg-white text-primary me-0" href=""><i class="fab fa-instagram"></i></a>
                </div>
            </div>
        </div>
    </div>
    <!-- Topbar End -->


    <!-- Navbar Start -->
    <nav class="navbar navbar-expand-lg bg-white navbar-light sticky-top p-0 wow fadeIn" data-wow-delay="0.1s">
        <a href="/" class="navbar-brand d-flex align-items-center px-4 px-lg-5">
            <h1 class="m-0 text-primary"><i class="far fa-hospital me-3"></i><span class="akatsuki">Akatsuki</span><span class="bank">BANK</span></h1>
        </a>
        <button type="button" class="navbar-toggler me-4" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <div class="navbar-nav ms-auto p-4 p-lg-0">
                <a href="/" class="nav-item nav-link" onclick="showSection('home')">Trang chủ</a> 
                <a href="/hme" class="nav-item nav-link" onclick="showSection('about')">Khoản vay</a>
                <a href="/all_transactions" class="nav-item nav-link">Tất cả giao dịch</a>
          
            
                <a href="/logout" class="nav-item nav-link" style="color: red;">Đăng xuất</a>
            </div>
            <a href="" class="btn btn-primary rounded-0 py-4 px-lg-5 d-none d-lg-block">Appointment<i class="fa fa-arrow-right ms-3"></i></a>
        </div>
    </nav>
    <!-- Navbar End -->
    

   
   <!-- Hessssssssssssssssssssssssssssádddddddddddddddddddddddddddds -->
    <div class="all_his"> 
        <h1>Tất cả lịch sử giao dịch</h1>
        <!--<a href="/logout"><button>Đăng xuất</button></a>-->

        <table>
            <thead>
                <tr>
                    <th>Thời gian</th>
                    <th>Họ và tên</th>
                    <th>Số điện thoại</th>
                    <th>CCCD</th>
                    <th>Kết quả</th>
                    <th>Xác suất trả nợ đầy đủ</th>
                    <th>Chi tiết</th>
                </tr>
            </thead>
            <tbody>
                {% for entry in history %}
                <tr>
                    <td>{{ entry.time }}</td>
                    <td>{{ entry.full_name }}</td>
                    <td>{{ entry.phone_number }}</td>
                    <td>{{ entry.cccd }}</td>
                    <td>{{ entry.result }}</td>
                    <td>{{ entry.prob_full_payment }}</td>
                    <td><button onclick="toggleDetails(this)">Xem</button></td>
                </tr>
                <tr class="details" style="display: none;">  <!-- Thêm style="display: none;" vào đây -->
                    <td colspan="7">  <!-- Sửa colspan thành 7 -->
                        <p>Xác suất không trả nợ đầy đủ: {{ entry.prob_non_payment }}</p>
                        <p>Chính sách tín dụng: {{ entry.credit_policy }}</p>
                        <p>Lãi suất: {{ entry.int_rate }}</p>
                        <p>Khoản trả góp hàng tháng: {{ entry.installment }}</p>
                        <p>Thu nhập hàng năm: {{ entry.annual_inc }}</p>
                        <p>DTI: {{ entry.dti }}</p>
                        <p>FICO: {{ entry.fico }}</p>
                        <p>Số ngày có hạn mức tín dụng: {{ entry.days_with_cr_line }}</p>
                        <p>Số dư tín dụng quay vòng: {{ entry.revol_bal }}</p>
                        <p>Tỷ lệ sử dụng tín dụng quay vòng: {{ entry.revol_util }}</p>
                        <p>Số lần tra cứu tín dụng trong 6 tháng qua: {{ entry.inq_last_6mths }}</p>
                        <p>Số lần trễ hạn trong 2 năm qua: {{ entry.delinq_2yrs }}</p>
                        <p>Số lần phá sản công khai: {{ entry.pub_rec }}</p>
                        <p>Mục đích vay: {{ entry.purpose }}</p>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

    </div>
    
    <script>
    function toggleDetails(button) {
        var detailsRow = button.parentNode.parentNode.nextElementSibling;
        detailsRow.style.display = detailsRow.style.display === "none" ? "table-row" : "none";
        button.textContent = detailsRow.style.display === "none" ? "Xem" : "Ẩn";
    }
    </script>
</script>
    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="static/lib/wow/wow.min.js"></script>
    <script src="static/lib/easing/easing.min.js"></script>
    <script src="static/lib/waypoints/waypoints.min.js"></script>
    <script src="static/lib/counterup/counterup.min.js"></script>
    <script src="static/lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="static/lib/tempusdominus/js/moment.min.js"></script>
    <script src="static/lib/tempusdominus/js/moment-timezone.min.js"></script>
    <script src="static/lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js"></script>

    <!-- Template Javascript -->
    <script src="static/js/main.js"></script>
</body>

</html>